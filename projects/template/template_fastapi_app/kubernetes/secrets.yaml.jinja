apiVersion: v1
kind: Secret
metadata:
  name: app-secret
  namespace: {{ (project_dash or project_name) | lower | replace('_', '-') }}
  labels:
    app.kubernetes.io/name: {{ (project_dash or project_name) | lower | replace('_', '-') }}
    app.kubernetes.io/managed-by: copier
    app.kubernetes.io/component: secret
    app.kubernetes.io/part-of: {{ project_name }}
type: Opaque
# We keep both stringData (developer-friendly) and data (base64) for clarity.
# Kubernetes will merge them; data takes precedence if keys overlap.
stringData:
  # Plaintext value provided during template generation (or auto-generated if left blank)
  secret-key: {{ app_secret_plaintext }}
# Base64 encoded version (auto-derived) â€“ shown for transparency & CI diffs
# NOTE: Do not edit manually; re-run copier to change.
data:
  secret-key: {{ app_secret_plaintext | b64encode }}
