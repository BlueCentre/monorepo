# This is the name and version displayed in the SonarCloud UI.
sonar.projectName=monorepo
sonar.projectKey=BlueCentre_monorepo
sonar.projectVersion=1.0
sonar.organization=bluecentre

## Sources & Tests
# In a Bazel monorepo we keep all first-party code under projects/.
# We explicitly set tests so Sonar can separate them from sources for coverage & duplication rules.
sonar.sources=projects
sonar.tests=projects
sonar.test.inclusions=**/tests/**,**/test_*.py,**/*_test.py,**/*Test.java,**/*Tests.java,**/*TestCase.java,**/*_test.go
sonar.test.exclusions=**/venv/**,**/__pycache__/**,**/target/**,**/bazel-*/**,**/migrations/**,**/alembic/**

# Encoding of the source code. Default is default system encoding
sonar.sourceEncoding=UTF-8

## Exclusions (sources)
# Keep sources broad; exclude only generated, build output, vendored, and infra noise.
sonar.exclusions=**/bazel-*/**,bazel-bin/**,bazel-out/**,bazel-testlogs/**,**/venv/**,**/__pycache__/**,**/*.pyc,**/migrations/**,**/alembic/**,**/target/**,**/kustomize/**,kustomize/**,**/dist/**,projects/template/**

## Java
# Bazel outputs compiled classes elsewhere; if using direct Maven/Gradle builds locally you can adjust.
# For now point to a fallback conventional path; override via CI if needed.
sonar.java.binaries=target/classes

## Copy-Paste Detection (CPD)
# Unified exclusion list (tests + generated/build output). Avoid duplicating property definitions.
sonar.cpd.exclusions=**/tests/**,**/test/**,**/*Test.java,**/*Tests.java,**/*TestCase.java,**/*_test.go,**/bazel-*/**,bazel-bin/**,bazel-out/**,bazel-testlogs/**,**/target/**

## Python
sonar.python.version=3.11
# Coverage & test reports. Bazel rules should be configured to dump these at repo root (or pass -D properties in CI if paths differ).
sonar.python.coverage.reportPaths=coverage-python.xml,coverage.xml
sonar.python.xunit.reportPath=test-results-python.xml,test-results.xml
sonar.inclusions=**/*.py

# Python security configuration
sonar.python.security.sanitizers=escape,escapejs,escapecss,escapexml,escapejson
sonar.python.security.sinks=execute,eval,exec,execfile,compile,open,file,os.open,os.system,os.popen,subprocess.Popen,subprocess.call,subprocess.run

## Go (placeholder) - to activate, generate coverage & test reports and provide paths.
# sonar.go.coverage.reportPaths=coverage-go.out
# sonar.go.tests.reportPaths=test-report-go.json

## Java Test & Coverage (optional placeholders if later integrated)
# sonar.java.coveragePlugin=jacoco
# sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

## SCM Provider (ensure correct blame mapping in monorepo)
sonar.scm.provider=git
